# Инструкция по выполнению Task3: Факторный анализ

## Задание

1. Найти данные с минимум 7 переменными
2. Построить ортогональную модель с 3 факторами
3. Дать интерпретацию модели
4. Попробовать Varimax ротацию факторов
5. Прокомментировать результаты
6. Подготовить PDF отчет

## Что включено

### 1. R код (`task3.1.r`)

Код включает:
- **Генерацию многомерных данных** (8 переменных, n=300) с заданной факторной структурой
- **Факторный анализ с 3 факторами без ротации**
- **Факторный анализ с Varimax ротацией**
- **Визуализацию результатов:**
  - Теплокарты факторных нагрузок (до и после ротации)
  - Scree plots (графики собственных значений)
  - Графики сравнения нагрузок
  - Корреляционная матрица
- **Сохранение результатов** в текстовый файл

### 2. LaTeX отчет (`report.tex`)

Отчет включает:
- Теоретическую часть о факторном анализе
- Описание ортогональной факторной модели
- Описание данных
- Результаты факторного анализа без ротации
- Результаты факторного анализа с Varimax ротацией
- Интерпретацию факторов
- Сравнение результатов до и после ротации
- Визуализацию результатов
- Выводы

## Как использовать

### Шаг 1: Установка пакетов R

```r
install.packages(c("MASS", "psych", "GPArotation", "corrplot", "ggplot2"))
```

### Шаг 2: Запуск R кода

```r
source("Task3/task3.1.r")
```

Это создаст:
- `Task3/Task3_FactorLoadings.pdf` - теплокарты нагрузок
- `Task3/Task3_ScreePlot.pdf` - scree plots
- `Task3/Task3_LoadingsComparison.pdf` - сравнение нагрузок
- `Task3/Task3_Correlation.pdf` - корреляционная матрица
- `Task3/Task3_analysis_results.txt` - численные результаты

### Шаг 3: Компиляция LaTeX отчета

**Используйте XeLaTeX** (рекомендуется для русского языка):

```r
# В R:
tinytex::xelatex("Task3/report.tex")
tinytex::xelatex("Task3/report.tex")  # Дважды для правильных ссылок
```

Или используйте скрипт:
```r
source("Task3/compile_report.R")
```

**Важно:** Убедитесь, что все PDF файлы с графиками созданы перед компиляцией LaTeX!

## Структура отчета

1. **Теоретическая часть** - основы факторного анализа
2. **Описание данных** - 8 переменных с факторной структурой
3. **Результаты без ротации** - исходные факторные нагрузки
4. **Результаты с Varimax ротацией** - ротированные нагрузки
5. **Интерпретация факторов** - что означает каждый фактор
6. **Сравнение результатов** - до и после ротации
7. **Визуализация** - графики результатов
8. **Выводы** - обобщение результатов

## Описание данных

Синтетический набор данных с 8 переменными:
- **Экономические показатели** (3 переменные): GDP_Growth, Industrial_Output, Trade_Balance
- **Социальные показатели** (2 переменные): Education_Level, Healthcare_Index
- **Экологические показатели** (2 переменные): Air_Quality, Water_Quality
- **Случайный шум** (1 переменная): Random_Noise

Ожидаемая факторная структура:
- **Фактор 1 (Экономический)**: переменные 1-3
- **Фактор 2 (Социальный)**: переменные 4-5
- **Фактор 3 (Экологический)**: переменные 6-7
- Переменная 8 (Random_Noise) не должна нагружаться ни на один фактор

## Особенности факторного анализа

### Ортогональная модель
- Факторы некоррелированы (ортогональны)
- Упрощает интерпретацию
- Подходит для независимых латентных конструктов

### Varimax ротация
- Максимизирует дисперсию квадратов нагрузок
- Упрощает интерпретацию факторов
- Сохраняет ортогональность факторов
- Не изменяет общности переменных

### Интерпретация факторов
- Высокие нагрузки (|λ| > 0.3-0.4) указывают на связь переменной с фактором
- Факторы представляют латентные конструкты
- Общности показывают, какая доля дисперсии объясняется факторами

## Примечания

- Код использует `set.seed(2025)` для воспроизводимости результатов
- Данные стандартизируются перед факторным анализом
- Используется метод максимального правдоподобия (ML)
- Все графики сохраняются в PDF формате для включения в отчет

