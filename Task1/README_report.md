# Инструкция по созданию отчета

## Что было добавлено

### 1. Расширенный R код (`task1.1.r`)

Добавлены следующие функции:
- **Спектральное разложение** ковариационных матриц (вычисление собственных значений и векторов)
- **Генерация 95% эллипсоидов рассеяния** для каждой подвыборки
- **Анализ главных компонент** (PCA) с вычислением долей объясненной дисперсии
- **3D визуализация с эллипсоидами** с использованием пакета `rgl`
- **Сохранение результатов анализа** в текстовый файл

### 2. LaTeX отчет (`report.tex`)

Создан полный отчет, включающий:
- Теоретическую часть с формулами многомерного нормального распределения
- Описание трех подвыборок с ковариационными матрицами
- Результаты спектрального разложения
- Визуализацию с эллипсоидами
- Анализ влияния структуры ковариационной матрицы на форму распределения
- Выводы

## Как использовать

### Шаг 1: Установка пакетов R

```r
install.packages(c("MASS", "plotly", "scatterplot3d", "rgl", "ellipse"))
```

### Шаг 2: Запуск R кода

```r
source("Task1/task1.1.r")
```

Это создаст:
- `Task1_Results.pdf` - статический 3D график
- `Task1_3D_with_ellipsoids.png` - 3D график с эллипсоидами (нужен для отчета)

### Шаг 3: Компиляция LaTeX отчета

**Используйте XeLaTeX** (рекомендуется для русского языка):

```r
# В R:
tinytex::xelatex("Task1/report.tex")
tinytex::xelatex("Task1/report.tex")  # Дважды для правильных ссылок
```

Или используйте скрипт:
```r
source("Task1/compile_report.R")
```

**Важно:** Убедитесь, что файл `Task1_3D_with_ellipsoids.png` существует перед компиляцией LaTeX!

## Структура отчета

1. **Теоретическая часть** - формулы и определения
2. **Описание подвыборок** - параметры трех распределений
3. **Алгоритм генерации** - описание метода
4. **Результаты спектрального разложения** - таблица собственных значений
5. **Визуализация** - графики с эллипсоидами
6. **Анализ каждой подвыборки** - интерпретация результатов
7. **Выводы** - обобщение результатов

## Параметры подвыборок

- **Подвыборка 1**: Сферическое распределение (μ=(0,0,0), Σ=единичная матрица)
- **Подвыборка 2**: Вытянутое по оси Z (μ=(5,5,5), Σ=диагональная с σ²_z=5)
- **Подвыборка 3**: Коррелированное (μ=(10,0,0), Σ с ρ=0.8 между всеми парами)

## Примечания

- Код использует `set.seed(123)` для воспроизводимости результатов
- Эллипсоиды построены для 95% уровня доверия (c² = χ²(3, 0.95) ≈ 7.815)
- Все вычисления выполняются на теоретических ковариационных матрицах, а не на выборочных

